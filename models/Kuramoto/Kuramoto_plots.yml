---
loss:
  based_on: loss
  color: black

frobenius_loss:
  based_on: loss
  select:
    data: output_data/frobenius_error
  color: black

graphs/true_graph:
  based_on: graph

graphs/prediction:
  based_on: graph
  select:
    graph_group: predicted_network

marginals/mean_degree:
  based_on: marginals_uni

marginals/degree_distribution:
  based_on: marginals_density_uni
  dag_options:
    define:
      n_bins: 300
      bw_method: 0.5
      sigma: 6
      min_bin: 0
      max_bin: 100
  helpers:
    set_title:
      title: Degree distribution $P(k)$
    set_tick_locators:
      x:
        major:
          nbins: 20

marginals/clustering:
  based_on: marginals_density_uni
  dag_options:
    define:
      n_bins: 1000
      min_bin: -8
      max_bin: 257
      bw_method: 0.2
      sigma: 8
  select:
    coords:
      path: predicted_network/_triangles
    param:
      path: predicted_network/_triangles
    param_binned:
      path: predicted_network/_triangles
    true_param:
      path: true_network/_triangles
  helpers:
    set_title:
      title: Clustering distribution $P(c)$
    set_limits:
      x: [0, 40]

matrices/true_adjacency_matrix:
  based_on: adjacency_matrix

matrices/prediction:
  based_on: adjacency_matrix
  select:
    data:
      path: output_data/predictions
      transform:
        - .isel: [!dag_prev , {time: -1}]

matrices/accuracy:
  based_on: accuracy

matrices/accuracy_on_true_edges:
  based_on: accuracy_on_true_edges

matrices/accuracy_on_false_edges:
  based_on: accuracy_on_false_edges

phases/polar:
  based_on: phases

phases/lines:
  based_on: phases_lines

properties/density:
  based_on: density

properties/degree:
  based_on: degree
  select:
    true_degree:
      path: true_network/_degree
    predicted_in_degree:
      path: predicted_network/_in_degree
    predicted_out_degree:
      path: predicted_network/_in_degree

properties/clustering:
  based_on: clustering

properties/mean_degree_over_time:
  based_on: mean_degree_over_time

properties/clustering_over_time:
  based_on: clustering_over_time
